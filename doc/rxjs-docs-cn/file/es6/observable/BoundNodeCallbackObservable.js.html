<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">es6/observable/BoundNodeCallbackObservable.js | RxJS 中文文档</title>
  <meta name="description" content="RxJS 中文文档 - RxJS 5 官方文档中文版，此中文文档与官方文档保持同步更新!RxJS 中文社区致力于为广大国内 RxJS 爱好者提供更好的学习环境，其中包括无语言障碍的中文文档及其他中文学习资料!">
  <meta name="keywords" content="RxJS中文文档,RxJS5中文文档,RxJS,RxJS5,RxJS-CN,RxJS中文社区,Observable">
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
<script data-ice="userScript" src="user/script/0-Rx.js"></script>
<script data-ice="userScript" src="user/script/1-devtools-welcome.js"></script>
<script data-ice="userScript" src="user/script/2-custom-manual-styles.js"></script>
<script data-ice="userScript" src="user/script/3-decision-tree-widget.min.js"></script>
<script data-ice="userScript" src="user/script/4-theme-toggler.js"></script>
<script data-ice="userScript" src="user/script/5-translate.js"></script>
<script data-ice="userScript" src="user/script/6-link-hash.js"></script>
<script data-ice="userScript" src="user/script/7-language.js"></script>
<script data-ice="userScript" src="user/script/8-about-link.js"></script>
<script data-ice="userScript" src="user/script/9-wechat-share.js"></script>
<script data-ice="userScript" src="user/script/10-rxjs-spy.js"></script>
<link data-ice="userStyle" rel="stylesheet" href="user/css/0-main.css">
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <a data-ice="repoURL" href="https://github.com/ReactiveX/RxJS" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/AsyncSubject.js~AsyncSubject.html">AsyncSubject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/BehaviorSubject.js~BehaviorSubject.html">BehaviorSubject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/Notification.js~Notification.html">Notification</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/Observable.js~Observable.html">Observable</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/ReplaySubject.js~ReplaySubject.html">ReplaySubject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/Scheduler.js~Scheduler.html">Scheduler</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/Subject.js~AnonymousSubject.html">AnonymousSubject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/Subject.js~Subject.html">Subject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/Subject.js~SubjectSubscriber.html">SubjectSubscriber</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/Subscriber.js~Subscriber.html">Subscriber</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/Subscription.js~Subscription.html">Subscription</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/es6/MiscJSDoc.js~ObservableInputDoc.html">ObservableInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/es6/MiscJSDoc.js~ObserverDoc.html">Observer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/es6/MiscJSDoc.js~SubscribableOrPromiseDoc.html">SubscribableOrPromise</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/es6/MiscJSDoc.js~TeardownLogicDoc.html">TeardownLogic</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Rx.Scheduler">Rx.Scheduler</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Rx.Symbol">Rx.Symbol</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">observable</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/observable/ConnectableObservable.js~ConnectableObservable.html">ConnectableObservable</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">observable/dom</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/observable/dom/AjaxObservable.js~AjaxError.html">AjaxError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/observable/dom/AjaxObservable.js~AjaxResponse.html">AjaxResponse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/observable/dom/AjaxObservable.js~AjaxTimeoutError.html">AjaxTimeoutError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/es6/observable/dom/MiscJSDoc.js~AjaxRequestDoc.html">AjaxRequest</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">operator</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/operator/groupBy.js~GroupedObservable.html">GroupedObservable</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">scheduler</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/scheduler/Action.js~Action.html">Action</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-animationFrame">animationFrame</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-asap">asap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-async">async</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-queue">queue</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">symbol</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-$$iterator">$$iterator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-$$observable">$$observable</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-$$rxSubscriber">$$rxSubscriber</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">util</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/util/ArgumentOutOfRangeError.js~ArgumentOutOfRangeError.html">ArgumentOutOfRangeError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/util/EmptyError.js~EmptyError.html">EmptyError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/util/ObjectUnsubscribedError.js~ObjectUnsubscribedError.html">ObjectUnsubscribedError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/util/TimeoutError.js~TimeoutError.html">TimeoutError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/util/UnsubscriptionError.js~UnsubscriptionError.html">UnsubscriptionError</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">es6/observable/BoundNodeCallbackObservable.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import { Observable } from &apos;../Observable&apos;;
import { tryCatch } from &apos;../util/tryCatch&apos;;
import { errorObject } from &apos;../util/errorObject&apos;;
import { AsyncSubject } from &apos;../AsyncSubject&apos;;
/**
 * We need this JSDoc comment for affecting ESDoc.
 * @extends {Ignored}
 * @hide true
 */
export class BoundNodeCallbackObservable extends Observable {
    constructor(callbackFunc, selector, args, context, scheduler) {
        super();
        this.callbackFunc = callbackFunc;
        this.selector = selector;
        this.args = args;
        this.context = context;
        this.scheduler = scheduler;
    }
    /* tslint:enable:max-line-length */
    /**
     * &#x628A; Node.js &#x5F0F;&#x56DE;&#x8C03;API&#x8F6C;&#x6362;&#x4E3A;&#x8FD4;&#x56DE; Observable &#x7684;&#x51FD;&#x6570;&#x3002;
     *
     * &lt;span class=&quot;informal&quot;&gt;&#x5C31;&#x50CF;&#x662F; {@link bindCallback}, &#x4F46;&#x662F;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5FC5;&#x987B;&#x5F62;&#x5982;
     * `callback(error, result)`&#x8FD9;&#x6837;&lt;/span&gt;
     *
     * `bindNodeCallback` &#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7B26;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x7684;&#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#x5E76;&#x4E0D;&#x662F; Observable&#x3002;&#x8F93;&#x5165;&#x7684;&#x662F;&#x4E00;&#x4E2A;
     * &#x5E26;&#x6709;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x4E14;&#x8BE5;&#x51FD;&#x6570;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x662F;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x5F53;&#x8BE5;&#x51FD;&#x6570;&#x6267;&#x884C;&#x5B8C;&#x4E4B;&#x540E;&#x4F1A;&#x6389;
     * &#x7528;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x88AB;&#x8981;&#x6C42;&#x9075;&#x5FAA; Node.js &#x516C;&#x7EA6;&#xFF0C;&#x5176;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x9519;&#x8BEF;&#x5BF9;&#x8C61;&#xFF0C;&#x6807;&#x793A;&#x8C03;&#x7528;&#x662F;&#x5426;&#x6210;&#x529F;&#x3002;
     * &#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x5BF9;&#x8C61;&#x88AB;&#x4F20;&#x9012;&#x7ED9;&#x4E86;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x8C03;&#x7528;&#x51FA;&#x73B0;&#x4E86;&#x9519;&#x8BEF;&#x3002;
     *
     * `bindNodeCallback` &#x7684;&#x8F93;&#x51FA;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x548C;&#x8F93;&#x5165;&#x51FD;&#x6570;&#x4E00;&#x6837;(&#x9664;&#x4E86;&#x6CA1;&#x6709;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;
     * &#x6570;)&#x3002;&#x5F53;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; Observable &#x3002;&#x5982;&#x679C;&#x8F93;&#x5165;&#x51FD;&#x6570;&#x5E26;&#x7740;&#x9519;&#x8BEF;&#x5BF9;&#x8C61;&#x8C03;&#x7528;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;Observable
     * &#x4E5F;&#x4F1A;&#x7528;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x5BF9;&#x8C61;&#x89E6;&#x53D1;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#x3002;&#x5982;&#x679C;&#x9519;&#x8BEF;&#x5BF9;&#x8C61;&#x6CA1;&#x6709;&#x88AB;&#x4F20;&#x9012;&#xFF0C;Observable &#x4F1A;&#x53D1;&#x51FA;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x3002;
     * &#x5982;&#x679C;&#x8F93;&#x5165;&#x51FD;&#x6570;&#x7ED9;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4F20;&#x9012;&#x4E09;&#x4E2A;&#x6216;&#x8005;&#x66F4;&#x591A;&#x7684;&#x503C;&#xFF0C;&#x8BE5; Observable &#x4F1A;&#x53D1;&#x51FA;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x9664;&#x4E86;&#x7B2C;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x53C2;
     * &#x6570;&#x7684;&#x6240;&#x6709;&#x503C;&#x7684;&#x6570;&#x7EC4;&#x3002;
     *
     * `bindNodeCallback`&#x63A5;&#x53D7;&#x53EF;&#x9009;&#x7684;&#x9009;&#x62E9;&#x5668;&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x5141;&#x8BB8; Observable &#x53D1;&#x51FA;&#x7531;&#x9009;&#x62E9;&#x5668;&#x8BA1;&#x7B97;&#x7684;&#x503C;&#xFF0C;&#x800C;
     * &#x4E0D;&#x662F;&#x666E;&#x901A;&#x7684;&#x56DE;&#x8C03;&#x53C2;&#x6570;&#x3002;&#x8FD9;&#x548C;{@link bindCallback}&#x7684;&#x9009;&#x62E9;&#x5668;&#x6548;&#x679C;&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F; node &#x5F0F;&#x7684;&#x9519;&#x8BEF;&#x53C2;&#x6570;&#x6C38;&#x8FDC;
     * &#x4E0D;&#x4F1A;&#x4F20;&#x9012;&#x7ED9;&#x8BE5;&#x51FD;&#x6570;&#x3002;
     *
     * &#x6CE8;&#x610F;&#xFF0C;&#x8F93;&#x5165;&#x51FD;&#x6570;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x76F4;&#x5230;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x7684; Observable &#x88AB;&#x8BA2;&#x9605;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8BA2;&#x9605;&#x540E;&#x4F1A;&#x540C;&#x6B65;&#x8C03;&#x7528;
     * &#x8F93;&#x5165;&#x65B9;&#x6CD5;, &#x4F46;&#x662F;&#x8FD9;&#x53EF;&#x4EE5;&#x88AB;&#x6539;&#x53D8;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;{@link Scheduler}&#x4F5C;&#x4E3A;&#x53EF;&#x9009;&#x7684;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x3002;
     * &#x8C03;&#x5EA6;&#x5668;&#x53EF;&#x4EE5;&#x63A7;&#x5236; Observable &#x4F55;&#x65F6;&#x53D1;&#x51FA;&#x6570;&#x636E;&#x3002;&#x60F3;&#x8981;&#x83B7;&#x53D6;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x67E5;&#x770B;{@link bindCallback}&#x7684;&#x6587;&#x6863;&#xFF0C;
     * &#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x3002;
     *
     * &#x548C;{@link bindCallback}&#x4E00;&#x6837;&#xFF0C;&#x8F93;&#x5165;&#x51FD;&#x6570;&#x7684;&#x4E0A;&#x4E0B;&#x6587;(this)&#x5C06;&#x4F1A;&#x88AB;&#x8BBE;&#x7F6E;&#x7ED9;&#x8F93;&#x51FA;&#x51FD;&#x6570;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x5F53;&#x5B83;&#x88AB;&#x8C03;&#x7528;
     * &#x7684;&#x65F6;&#x5019;&#x3002;&#x5F53; Observable &#x53D1;&#x51FA;&#x4E86;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x5B83;&#x4F1A;&#x7ACB;&#x9A6C;&#x5B8C;&#x6210;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5373;&#x4F7F;&#x8F93;&#x5165;&#x51FD;&#x6570;&#x518D;&#x6B21;&#x8C03;&#x7528;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x7B2C;&#x4E8C;&#x6B21;&#x4EE5;
     * &#x53CA;&#x540E;&#x7EED;&#x8C03;&#x7528;&#x7684;&#x503C;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x5728;&#x6D41;&#x4E2D;&#x3002;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x5904;&#x7406;&#x591A;&#x6B21;&#x8C03;&#x7528;&#xFF0C;&#x67E5;&#x770B;{@link fromEvent}&#x6216;&#x8005;{@link fromEventPattern}
     * &#x6765;&#x66FF;&#x4EE3;&#x3002;
     *
     * &#x6CE8;&#x610F;&#xFF0C;`bindNodeCallback`&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x7528;&#x5728;&#x975E; Node.js &#x73AF;&#x5883;&#x4E2D;&#xFF0C;Node.js &#x5F0F;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x79CD;&#x516C;&#x7EA6;&#xFF0C;&#x6240;&#x4EE5;
     * &#x5982;&#x679C;&#x4F60;&#x7684;&#x76EE;&#x6807;&#x73AF;&#x5883;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x6216;&#x8005;&#x5176;&#x4ED6;&#xFF0C;&#x5E76;&#x4E14;&#x4F60;&#x4F7F;&#x7528;&#x7684;API&#x9075;&#x5B88;&#x4E86;&#x8FD9;&#x79CD;&#x56DE;&#x8C03;&#x516C;&#x7EA6;&#xFF0C;`bindNodeCallback`&#x5C31;&#x53EF;&#x4EE5;
     * &#x5B89;&#x5168;&#x7684;&#x4F7F;&#x7528;&#x90A3;&#x4E9B;API&#x51FD;&#x6570;&#x3002;
     *
     * &#x7262;&#x8BB0;&#xFF0C;&#x4F20;&#x9012;&#x7ED9;&#x56DE;&#x8C03;&#x7684;&#x9519;&#x8BEF;&#x5BF9;&#x8C61;&#x5E76;&#x4E0D;&#x662F; JavaScript &#x5185;&#x7F6E;&#x7684; Error &#x7684;&#x5B9E;&#x4F8B;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5B83;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x4E0D;&#x662F;&#x5BF9;&#x8C61;&#x3002;
     * &#x56DE;&#x8C03;&#x51FD;&#x6570;&#x7684;&#x9519;&#x8BEF;&#x53C2;&#x6570;&#x88AB;&#x89E3;&#x8BFB;&#x4E3A;&#x201C;&#x5B58;&#x5728;&#x201D;&#xFF0C;&#x5F53;&#x8BE5;&#x53C2;&#x6570;&#x6709;&#x503C;&#x7684;&#x65F6;&#x5019;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x662F;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x975E;0&#x6570;&#x5B57;&#xFF0C;&#x975E;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x903B;&#x8F91;
     * &#x662F;&#x3002;&#x5728;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x90FD;&#x4F1A;&#x89E6;&#x53D1; Observable &#x7684;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5F53;&#x4F7F;&#x7528;`bindNodeCallback`
     * &#x7684;&#x65F6;&#x5019;&#x901A;&#x5E38;&#x5F62;&#x5F0F;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x90FD;&#x4F1A;&#x89E6;&#x53D1;&#x5931;&#x8D25;&#x3002;&#x5982;&#x679C;&#x4F60;&#x7684; Observable &#x7ECF;&#x5E38;&#x53D1;&#x751F;&#x4F60;&#x9884;&#x6599;&#x4E4B;&#x5916;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x8BF7;&#x68C0;&#x67E5;&#x4E0B;
     * &#x56DE;&#x8C03;&#x51FD;&#x6570;&#x662F;&#x5426;&#x662F; node.js &#x5F0F;&#x7684;&#x56DE;&#x8C03;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x662F;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;{@link bindCallback}&#x66FF;&#x4EE3;&#x3002;
     *
     * &#x6CE8;&#x610F;&#xFF0C;&#x5373;&#x4F7F;&#x9519;&#x8BEF;&#x53C2;&#x6570;&#x51FA;&#x73B0;&#x5728;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x7684;&#x503C;&#x662F;&#x5047;&#x503C;&#xFF0C;&#x5B83;&#x4ECD;&#x7136;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x5728;Observable&#x7684;&#x53D1;&#x51FA;&#x6570;&#x7EC4;&#x6216;&#x8005;&#x9009;&#x62E9;&#x5668;&#x4E2D;&#x3002;
     *
     * @example &lt;caption&gt;&#x4ECE;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x5E76;&#x4E14;&#x4ECE; Observable &#x4E2D;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x3002;&lt;/caption&gt;
     * import * as fs from &apos;fs&apos;;
     * var readFileAsObservable = Rx.Observable.bindNodeCallback(fs.readFile);
     * var result = readFileAsObservable(&apos;./roadNames.txt&apos;, &apos;utf8&apos;);
     * result.subscribe(x =&gt; console.log(x), e =&gt; console.error(e));
     *
     *
     * @example &lt;caption&gt;&#x4F7F;&#x7528;&#x5177;&#x6709;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x56DE;&#x8C03;&lt;/caption&gt;
     * someFunction((err, a, b) =&gt; {
     *   console.log(err); // null
     *   console.log(a); // 5
     *   console.log(b); // &quot;some string&quot;
     * });
     * var boundSomeFunction = Rx.Observable.bindNodeCallback(someFunction);
     * boundSomeFunction()
     * .subscribe(value =&gt; {
     *   console.log(value); // [5, &quot;some string&quot;]
     * });
     *
     *
     * @example &lt;caption&gt;&#x4F7F;&#x7528;&#x9009;&#x62E9;&#x5668;&#x51FD;&#x6570;&lt;/caption&gt;
     * someFunction((err, a, b) =&gt; {
     *   console.log(err); // undefined
     *   console.log(a); // &quot;abc&quot;
     *   console.log(b); // &quot;DEF&quot;
     * });
     * var boundSomeFunction = Rx.Observable.bindNodeCallback(someFunction, (a, b) =&gt; a + b);
     * boundSomeFunction()
     * .subscribe(value =&gt; {
     *   console.log(value); // &quot;abcDEF&quot;
     * });
     *
     *
     * @example &lt;caption&gt;&#x975E; node.js &#x5F0F;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&lt;/caption&gt;
     * someFunction(a =&gt; {
     *   console.log(a); // 5
     * });
     * var boundSomeFunction = Rx.Observable.bindNodeCallback(someFunction);
     * boundSomeFunction()
     * .subscribe(
     *   value =&gt; {}             // never gets called
     *   err =&gt; console.log(err) // 5
     *);
     *
     *
     * @see {@link bindCallback}
     * @see {@link from}
     * @see {@link fromPromise}
     *
     * @param {function} func &#x6700;&#x540E;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F; node.js &#x5F0F;&#x56DE;&#x8C03;&#x7684;&#x51FD;&#x6570;&#x3002;
     * @param {function} [selector] &#x9009;&#x62E9;&#x5668;&#xFF0C;&#x4ECE;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E2D;&#x83B7;&#x53D6;&#x53C2;&#x6570;&#x5E76;&#x5C06;&#x8FD9;&#x4E9B;&#x6620;&#x5C04;&#x4E3A;&#x4E00;&#x4E2A; Observable &#x53D1;&#x51FA;&#x7684;&#x503C;&#x3002;
     * @param {Scheduler} [scheduler] &#x8C03;&#x5EA6;&#x5668;&#xFF0C;&#x8C03;&#x5EA6;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;
     * @return {function(...params: *): &#x4E00;&#x4E2A;&#x8FD4;&#x56DE; Observable &#x7684;&#x51FD;&#x6570;&#xFF0C;&#x8BE5; Observable &#x53D1;&#x51FA; node.js &#x5F0F;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x3002;
     * @static true
     * @name bindNodeCallback
     * @owner Observable
     */
    static create(func, selector = undefined, scheduler) {
        return function (...args) {
            return new BoundNodeCallbackObservable(func, selector, args, this, scheduler);
        };
    }
    _subscribe(subscriber) {
        const callbackFunc = this.callbackFunc;
        const args = this.args;
        const scheduler = this.scheduler;
        let subject = this.subject;
        if (!scheduler) {
            if (!subject) {
                subject = this.subject = new AsyncSubject();
                const handler = function handlerFn(...innerArgs) {
                    const source = handlerFn.source;
                    const { selector, subject } = source;
                    const err = innerArgs.shift();
                    if (err) {
                        subject.error(err);
                    }
                    else if (selector) {
                        const result = tryCatch(selector).apply(this, innerArgs);
                        if (result === errorObject) {
                            subject.error(errorObject.e);
                        }
                        else {
                            subject.next(result);
                            subject.complete();
                        }
                    }
                    else {
                        subject.next(innerArgs.length &lt;= 1 ? innerArgs[0] : innerArgs);
                        subject.complete();
                    }
                };
                // use named function instance to avoid closure.
                handler.source = this;
                const result = tryCatch(callbackFunc).apply(this.context, args.concat(handler));
                if (result === errorObject) {
                    subject.error(errorObject.e);
                }
            }
            return subject.subscribe(subscriber);
        }
        else {
            return scheduler.schedule(dispatch, 0, { source: this, subscriber, context: this.context });
        }
    }
}
function dispatch(state) {
    const self = this;
    const { source, subscriber, context } = state;
    // XXX: cast to `any` to access to the private field in `source`.
    const { callbackFunc, args, scheduler } = source;
    let subject = source.subject;
    if (!subject) {
        subject = source.subject = new AsyncSubject();
        const handler = function handlerFn(...innerArgs) {
            const source = handlerFn.source;
            const { selector, subject } = source;
            const err = innerArgs.shift();
            if (err) {
                self.add(scheduler.schedule(dispatchError, 0, { err, subject }));
            }
            else if (selector) {
                const result = tryCatch(selector).apply(this, innerArgs);
                if (result === errorObject) {
                    self.add(scheduler.schedule(dispatchError, 0, { err: errorObject.e, subject }));
                }
                else {
                    self.add(scheduler.schedule(dispatchNext, 0, { value: result, subject }));
                }
            }
            else {
                const value = innerArgs.length &lt;= 1 ? innerArgs[0] : innerArgs;
                self.add(scheduler.schedule(dispatchNext, 0, { value, subject }));
            }
        };
        // use named function to pass values in without closure
        handler.source = source;
        const result = tryCatch(callbackFunc).apply(context, args.concat(handler));
        if (result === errorObject) {
            self.add(scheduler.schedule(dispatchError, 0, { err: errorObject.e, subject }));
        }
    }
    self.add(subject.subscribe(subscriber));
}
function dispatchNext(arg) {
    const { value, subject } = arg;
    subject.next(value);
    subject.complete();
}
function dispatchError(arg) {
    const { err, subject } = arg;
    subject.error(err);
}
//# sourceMappingURL=BoundNodeCallbackObservable.js.map</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.8)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
